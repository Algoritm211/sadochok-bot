const {Scenes} = require('telegraf');
const {mainMenuKeyboard} = require('../keyboards/main-menu.keyboard');
const exitKeyboard = require('../keyboards/exit.keyboard');
const faqCategoryKeyboard = require('../keyboards/faq-category.keyboard');
const {BaseScene} = Scenes;
const faqScene = new BaseScene('FAQ_SCENE');

const categoryHandler = async (ctx) => {
  await ctx.reply(
    'ğŸ’¸ Ğ¡Ñ‚Ğ°Ğ²ĞºĞ° (Ğ¸Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ°Ñ) â€” ÑÑƒĞ¼Ğ¼Ğ° Ğ´ĞµĞ½ĞµĞ³, ĞºĞ¾Ñ‚Ğ¾Ñ€ÑƒÑ Ğ¸Ğ³Ñ€Ğ¾Ğº Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‘Ñ‚ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ‚Ğ¾Ñ€Ñƒ Ğ¿Ğ°Ñ€Ğ¸ Ğ½Ğ° ÑƒÑĞ»Ğ¾Ğ²Ğ¸ÑÑ…, Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ‹Ñ… Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°Ğ¼Ğ¸ Ğ¸Ğ³Ñ€Ñ‹.\n \n ó €¥ó €¥ó €¥ó €¥ğŸ’¯ ĞšĞ¾ÑÑ„Ñ„Ğ¸Ñ†Ğ¸ĞµĞ½Ñ‚ â€” Ğ¼Ğ½Ğ¾Ğ¶Ğ¸Ñ‚ĞµĞ»ÑŒ Ğ´Ğ»Ñ Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ñ ÑÑƒĞ¼Ğ¼Ñ‹ Ğ²Ñ‹Ğ¿Ğ»Ğ°Ñ‚Ñ‹ Ğ¿Ğ¾ Ğ²Ñ‹Ğ¸Ğ³Ñ€Ñ‹ÑˆĞ½Ğ¾Ğ¼Ñƒ Ğ¿Ğ°Ñ€Ğ¸. Ğ§Ñ‚Ğ¾Ğ±Ñ‹ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ñ‡Ğ¸ÑÑ‚Ñ‹Ğ¹ Ğ²Ñ‹Ğ¸Ğ³Ñ€Ñ‹Ñˆ, Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ¸Ğ· ÑÑƒĞ¼Ğ¼Ñ‹ Ğ²Ñ‹Ğ¿Ğ»Ğ°Ñ‚Ñ‹ Ğ²Ñ‹Ñ‡ĞµÑÑ‚ÑŒ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€ ÑÑ‚Ğ°Ğ²ĞºĞ¸. ĞĞ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€ - Ğ²Ñ‹ ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚Ğµ Ğ½Ğ° ĞºĞ¾ÑÑ„Ñ„Ğ¸Ñ†Ğ¸ĞµĞ½Ñ‚ 2 Ñ€Ğ¾Ğ²Ğ½Ğ¾ 100 Ğ³Ñ€Ğ¸Ğ²ĞµĞ½. Ğ’ ÑĞ»ÑƒÑ‡Ğ°Ğµ Ğ²Ñ‹Ğ¸Ğ³Ñ€Ñ‹ÑˆĞ° - Ğ²Ñ‹ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚Ğµ 200 Ğ³Ñ€Ğ½! Ğ˜ Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¿Ğ¾Ğ½ÑÑ‚ÑŒ Ñ‡Ğ¸ÑÑ‚Ñ‹Ğ¹ Ğ²Ñ‹Ğ¸Ğ³Ñ€Ñ‹Ñˆ - Ğ¾Ñ‚Ğ½Ğ¸Ğ¼ĞµĞ¼ Ğ¾Ñ‚ 200 Ğ²Ğ°ÑˆÑƒ ÑÑ‚Ğ°Ğ²ĞºÑƒ - 100 Ğ³Ñ€Ğ¸Ğ²ĞµĞ½. 200 - 100 = 100 Ğ³Ñ€Ğ¸Ğ²ĞµĞ½ Ğ² Ñ‡ĞµÑÑ‚ÑŒ Ğ²Ğ°ÑˆĞµĞ¹ Ğ¿Ğ¾Ğ±ĞµĞ´Ñ‹! \n \n ğŸ”´ Ğ›Ğ°Ğ¹Ğ² (Live) â€” Ğ¿ĞµÑ€ĞµÑ‡ĞµĞ½ÑŒ ÑĞ¿Ğ¾Ñ€Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ñ… ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹, Ğ½Ğ° ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ ÑĞ´ĞµĞ»Ğ°Ñ‚ÑŒ ÑÑ‚Ğ°Ğ²ĞºÑƒ Ğ² Ñ€ĞµĞ¶Ğ¸Ğ¼Ğµ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸. \n \n ĞÑÑ‚Ğ°Ğ»Ğ¸ÑÑŒ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹? Ğ¡Ğ¼ĞµĞ»Ğ¾ Ğ¶Ğ¼Ğ¸Ñ‚Ğµ "Ğ¿Ğ¾Ğ´Ñ€Ğ¾Ğ±Ğ½ĞµĞµ"! ğŸ”¥',
    faqCategoryKeyboard
  );
};

faqScene.enter(categoryHandler);

faqScene.action(/^category:[a-z]+$/, async (ctx) => {
  await ctx.reply(`ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ²Ğ¸Ğ´ĞµĞ¾ Ğ¾Ñ‚ Ğ½Ğ°ÑˆĞµĞ³Ğ¾ ÑĞ¿ĞµÑ†Ğ¸Ğ°Ğ»Ğ¸ÑÑ‚Ğ° ğŸ‘¨ğŸ½â€ğŸ«, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ¿Ğ¾Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ²Ğ°Ğ¼ Ğ»ÑƒÑ‡ÑˆĞµ Ñ€Ğ°Ğ·Ğ¾Ğ±Ñ€Ğ°Ñ‚ÑŒÑÑ Ğ²Ğ¾ Ğ²ÑÑ‘Ğ¼! ğŸ™ŒğŸ¼`, exitKeyboard);
});

faqScene.hears('Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ', async (ctx) => {
  await ctx.scene.leave();
  await ctx.reply('ğŸ¡Ğ’Ñ‹ Ğ¿ĞµÑ€ĞµÑˆĞ»Ğ¸ Ğ² Ğ³Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½ÑğŸ¡', mainMenuKeyboard);
});

module.exports = faqScene;
